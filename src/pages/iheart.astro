---
import Layout from "@layouts/Layout.astro";
import { enUS, getLangFromUrl, routes } from "strings/routing";
import QR from "@assets/landingPage/QRCodes/iHeartPodcastQRCode.png";
import JustQR from "@assets/landingPage/QRCodes/SmartBunny_iHeart_Podcast_1pjt3kmp_qr_code.png";
import { Image } from "astro:assets";
import ProductSwitcher from "@components/productSwitcher.astro";
import Logos from "@components/logos.astro";
import iHeart from "@assets/iheart/iHeart logo3x.png";
import ProductGrid from "@components/productGrid.astro";
import Testimonials from "@components/testimonials.astro";
import Cta from "@components/cta.astro";
import { Affordable, CustomerSupport, InstantApproval } from "@assets/iheart";
import PhoneAndList from "@components/phoneAndList.astro";
import { Life, Travel, Renters, FinalExpenses, Phone } from "@assets/products";
import type { ProductGridList } from "types";

const language = getLangFromUrl(Astro.url);
const smartBunnyBenefits = [
  {
    image: Affordable,
    title: "Coverage in minutes",
    description:
      "The SmartBunny App protects you and your family from the unexpected. Get the coverage you need in minutes. Itâ€™s that easy!",
  },
  {
    image: CustomerSupport,
    title: "Instant approval",
    description:
      "All policies that you are eligible for are instantly issued and approved. This means you are covered in seconds... all from the SmartBunny mobile app!",
  },
  {
    image: InstantApproval,
    title: "Easy claims support",
    description:
      "Need to make a claim? No problem - all claims information is at your fingertips on the SmartBunny mobile app. Simply visit the Emergency and Claims section of the SmartBunny app to start a claim.",
  },
];

const otherProducts: ProductGridList = [
  {
    name: "Life Insurance",
    image: Life,
    tagLine: "As low as $15/mo.",
    path: `/${language}/${routes[enUS].lifeInsurance}`,
  },
  {
    name: "Travel Insurance",
    image: Travel,
    tagLine: "As low as $6/day.",
    path: `/${language}/${routes[enUS].travelInsurance}`,
  },
  {
    name: "Renters Insurance",
    image: Renters,
    tagLine: "As low as $15/mo.",
    path: `/${language}/${routes[enUS].rentersInsurance}`,
  },
  {
    name: "Final Expense",
    image: FinalExpenses,
    tagLine: "As low as $14/mo.",
    path: `/${language}/${routes[enUS].finalExpense}`,
  },
  {
    name: "Phone Insurance",
    image: Phone,
    tagLine: "As low as $7/mo.",
    path: `/${language}/${routes[enUS].phoneInsurance}`,
  },
];

const s = {
  insuranceForIheartlisteners: "Insurance for iHeart Listeners",
  oneLink: "https://smartbunnyiheart.onelink.me/D5Gd/1pjt3kmp",
  allOnTheApp: "It's all on the SmartBunny App!",
};
---

<Layout extraLogo={iHeart}>
  <div class="w-full bg-pale-yellow">
    <!-- Desktop layout -->
    <div class="hidden lg:flex justify-center">
      <div class="flex justify-around gap-40 px-20 py-20">
        <p class="font-bold text-5xl max-w-[500px]">
          {s.insuranceForIheartlisteners}
        </p>
        <Image
          class="object-contain"
          src={QR}
          alt="QR Code"
          height={125}
          densities={[1.5, 2]}
        />
      </div>
    </div>

    <!-- Mobile layout -->
    <div class="flex flex-col lg:hidden justify-center items-center">
      <p class="font-bold text-4xl max-w-[330px] text-center pt-9">
        {s.insuranceForIheartlisteners}
      </p>
      <div class="h-6"></div>
      <a
        href={s.oneLink}
        target="_blank"
        class="bg-goose-pink max-w-[200px] rounded-full px-10 py-4 text-white text-xl text-center font-bold"
      >
        Get The App
      </a>
      <div class="h-6"></div>
    </div>

    <!-- Common Layout -->
    <div class="flex justify-center">
      <ProductSwitcher oneLink={s.oneLink} />
    </div>
    <div class="h-14"></div>
  </div>

  <Logos backgroundColour="bg-bg-pink" />
  <Testimonials />
  <PhoneAndList content={smartBunnyBenefits} />
  <ProductGrid
    title="Other ways to protect yourself"
    otherProducts={otherProducts}
  />
  <Cta downloadLink={s.oneLink} QR={JustQR} />
</Layout>
